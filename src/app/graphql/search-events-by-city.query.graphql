query searchEventsByCity($query: String!, $cityId: Int!, $accountId: Int!, $greaterThan: BigInt!, $lessThan: BigInt!, $count: Int) {
  searchEvents(
    query: $query, 
    cityid: $cityId,
  	filter: {
      startDate: {
        greaterThanOrEqualTo: $greaterThan,
        lessThanOrEqualTo: $lessThan
      }
    },
    first: $count
  ) {
    nodes {
      id,
      name,
      startDate,
      ticketproviderurl,
      ticketproviderid,
      venue,
      createdAt,
      venueByVenue {
        lat,
        lon
      }
      artistToEventsByEventId(first: 1) {
        nodes {
          artistByArtistId {
            photo
          }
        }
      },
      watchListsByEventId(
        filter: {
          accountId: {
            equalTo: $accountId
          }
        }
      ) {
        nodes {
          id
        }
      }
    }
  }
}